window.self!==window.top&&new class{constructor(){this.xhr=new XMLHttpRequest,this.timeout=null,window.addEventListener("message",e=>{var{data:e,origin:t}=e,n=e.action;this[n]&&t===window.location.origin&&this[n](e)}),this.timeout=setInterval(()=>{"complete"===document.readyState&&(window.parent.postMessage({action:"seo-check-ready"},window.location.origin),clearInterval(this.timeout))},500)}checkSEO(){var e=[];this.validateHeadingStructure(e),this.sendWarnings(e)}validateHeadingStructure(s){var e=[...document.querySelectorAll("h1, h2, h3, h4, h5, h6")],t=e.filter(e=>"h1"===e.tagName.toLowerCase());0===t.length?s.push("Missing <h1> tag."):1<t.length?s.push(`Multiple <h1> tags found: ${t.length}. There should only be one <h1> tag per page.`):"h1"!==e[0].tagName.toLowerCase()&&s.push("The first heading on the page is not an <h1>. The first heading should be an <h1>.");let r=!1,h=0;e.forEach((e,t)=>{var n,i=e.tagName.toLowerCase(),a=parseInt(i[1]),o=e.textContent.trim();"h1"===i?(r&&0!==t&&(this.underlineAndWarn(e,"red",n=`Additional <h1> found again at heading position ${t+1}: "${o}" — only one <h1> is allowed, and it should be the first heading on the page.`),s.push(n)),r=!0):r&&(1===t&&"h2"!==i&&(this.underlineAndWarn(e,"orange",n=`Heading after <h1> should be <h2>, found <${i}>: "${o}"`),s.push(n)),h)&&a>h+1&&(i=`Skipped heading level from <h${h}> to <h${a}> at heading position ${t+1}: "${o}" — consider using <h${h+1}> with a font size style instead.`,this.underlineAndWarn(e,"yellow",i),s.push(i)),h=a})}checkMetaDescription(e){var t=document.querySelector('meta[name="description"]');t&&t.getAttribute("content")&&t.getAttribute("content").trim()||e.push("Missing or empty meta description tag. Recommend adding a meta description to the page for better SEO - Found in the Page's SEO tab.")}underlineAndWarn(e,t,n){e.style.textDecoration="underline wavy "+t,e.style.textDecorationThickness="2px";let i=null,a=!0;e.addEventListener("mouseenter",()=>{a&&(this.sendWarnings([n]),a=!1,clearTimeout(i),i=setTimeout(()=>a=!0,6e3))})}sendWarnings(e=[]){e.forEach(e=>{try{window.parent.jQuery.noticeAdd({text:"⚠️ SEO Recommendation: "+e,type:"warning",stay:!1})}catch(e){console.log("Error sending toast notification:",e)}})}};